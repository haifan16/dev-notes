## 标记清除算法和标记整理算法的本质区别

1. 是否设计对象的移动（是否需要 STW）
2. 内存碎片

## 三种算法

1. 标记-清除

优点：速度快
缺点：容易产生内存碎片，可用内存的连续空间不大

（TODO：补充图片）

2. 标记-整理

第一阶段也是清理，区别在于第二阶段——整理

在整理过程中会让可用的内存紧凑起来，这样可用内存就比较连续

优点：没有内存碎片
缺点：时间长，耗费性能

（TODO：补充图片）

3. 标记-复制

新生代使用标记复制算法时，每次将 Eden 或者 from 中存活的对象放入 to，并寿命加一个，并交换 from 和 to。如果 to 没有足够的空间存放存活的对象，这些对象就会通过**分配担保机制**直接进入老年代，这是安全的（因为研究表明新生代中 98% 的对象都熬不过第一轮回收）

优点：没有内存碎片
缺点：占用两份内存

JVM 中这三种算法是结合着使用，不会只使用一种